<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Git的使用"><meta name="keywords" content=""><meta name="author" content="Piller4F"><meta name="copyright" content="Piller4F"><title>Git的使用 | Piller4F</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
} </script><meta name="generator" content="Hexo 4.2.1"></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#git的学习"><span class="toc-number">1.</span> <span class="toc-text">git的学习</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Git简介"><span class="toc-number">1.1.</span> <span class="toc-text">Git简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git的安装"><span class="toc-number">1.2.</span> <span class="toc-text">git的安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git的基本操作"><span class="toc-number">1.3.</span> <span class="toc-text">git的基本操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#创建版本库"><span class="toc-number">1.3.1.</span> <span class="toc-text">创建版本库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Git的版本控制功能—回退"><span class="toc-number">1.3.2.</span> <span class="toc-text">Git的版本控制功能—回退</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#工作区和暂存区的概念"><span class="toc-number">1.3.3.</span> <span class="toc-text">工作区和暂存区的概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#撤销修改"><span class="toc-number">1.3.4.</span> <span class="toc-text">撤销修改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除文件"><span class="toc-number">1.3.5.</span> <span class="toc-text">删除文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#部署远程仓库"><span class="toc-number">1.3.6.</span> <span class="toc-text">部署远程仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#从远程库进行克隆"><span class="toc-number">1.3.7.</span> <span class="toc-text">从远程库进行克隆</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建与合并"><span class="toc-number">1.3.8.</span> <span class="toc-text">创建与合并</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分支的删除"><span class="toc-number">1.3.9.</span> <span class="toc-text">分支的删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建标签"><span class="toc-number">1.3.10.</span> <span class="toc-text">创建标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#标签的操作"><span class="toc-number">1.3.11.</span> <span class="toc-text">标签的操作</span></a></li></ol></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://i.loli.net/2020/04/03/NHGA4cXkeSMDKml.png"></div><div class="author-info__name text-center">Piller4F</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">11</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://i.loli.net/2020/06/11/gMshtI2zZdwBjev.png)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Piller4F</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">主页</a><a class="site-page" href="/archives">归档</a></span><span class="pull-right"></span></div><div id="post-info"><div id="post-title">Git的使用</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-06-11</time><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">2.5k</span><span class="post-meta__separator">|</span><span>阅读时长: 9 分钟</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h1 id="git的学习"><a href="#git的学习" class="headerlink" title="git的学习"></a>git的学习</h1><p>初次接触git,对git的使用进行简单梳理。</p>
<hr>
<h2 id="Git简介"><a href="#Git简介" class="headerlink" title="Git简介"></a>Git简介</h2><p>Git是目前世界上最先进的分布式版本控系统。<br>那么什么是版本控制系统呢？？？<br>比如说我们现在写一个学生管理系统，当我们每完成一个功能时，可以说当前的代码的bug率很低，<br>现在不应该时继续去完成其它功能，而是将当前项目做备份，以免自己在后续的功能增加中修改了<br>之前的代码后发生的错误，如果没有备份，修改起来比较繁琐，这会极大的影响开发效率。<br></br><br><img src="https://i.loli.net/2020/06/11/upXMrvCQVq4WtHm.png" alt=""><br></br><br>说到版本控制系统这里就得稍微介绍下SVN<br><img src="https://i.loli.net/2020/06/11/vGtB32Iuk9XZS47.png" alt=""><br>每个开发者可以直接连接服务器，然后在本地修改，最好commit到SVN服务器上。这样造成的问题就<br>是，通常本地只是缓存一个小版本，版本的历史信息都在服务器上，一旦离开服务器本地就不能够追<br>踪代码版本。并且当项目过于庞大时会显得更加杂乱。<br><img src="https://i.loli.net/2020/06/11/IcfiOZatgs857D2.png" alt=""><br>可以看到分布式的结构，我们的本地可以pull下完成的版本库，并且可以制定一个leader端，可以很<br>方便的提供给大家交换修改，当然因为每个人都有完整的库，因此任意两个人都可以进行修改，断网时<br>也会存在历史版本在个人终端中。</p>
<hr>
<h2 id="git的安装"><a href="#git的安装" class="headerlink" title="git的安装"></a>git的安装</h2><ol>
<li><a href="http://git-scm.com/" target="_blank" rel="noopener">Git官网下载</a></li>
<li>一路next就行。</li>
<li>win+r <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git --version</span><br></pre></td></tr></table></figure>
提示版本号则安装完成  </li>
<li>github注册账号，并新建一个repository<br><img src="https://i.loli.net/2020/06/11/Q7EbuqMyrgLJ8mf.png" alt="">  </li>
<li>将本地git和github连接起来<br>桌面右击Git Bash Here<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen</span><br></pre></td></tr></table></figure>
按3下回车，进入<strong>C:\Users\Piller4F.ssh</strong>记事本打开<strong>id_rsa.pub</strong>复制，打开自己的github<br><img src="https://i.loli.net/2020/06/11/PqQgIa539JEnfGj.png" alt=""><br>复制即可</li>
</ol>
<hr>
<h2 id="git的基本操作"><a href="#git的基本操作" class="headerlink" title="git的基本操作"></a>git的基本操作</h2><h3 id="创建版本库"><a href="#创建版本库" class="headerlink" title="创建版本库"></a>创建版本库</h3><ol>
<li>创建一个代码库<br>找一个合适的地方建立文件夹<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir FirstPractice</span><br><span class="line">cd FirstpPractic</span><br><span class="line">pwd</span><br></pre></td></tr></table></figure></li>
<li>使用<code>git init</code>命令将该目录变为Git管理的仓库<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure>
此时Git仓库为一个空的仓库，你会发现生成了一个<code>.git</code>的目录，这个目录就是Git来跟踪管理版本库。  </li>
<li>我们编辑一些文件例如<code>main.cpp</code>内容如下。<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;  </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"hello world"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>使用<code>git add</code>命令，将文件加入仓库。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add main.cpp</span><br></pre></td></tr></table></figure></li>
<li>使用<code>git commit</code>命令，将文件提交到仓库，<code>-m</code>后面输入的是本次commit提交的说明，虽然不是必须的，但是有了备注之后更加方便其它人寻找改动记录。  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;first initial&quot;</span><br></pre></td></tr></table></figure>
那么为什么我们需要添加两次到仓库呢，其实使用<code>add</code>命令时会将文件发送到一个暂存区的地方，暂存区可以多次被添加文件，使用<code>commit</code>后会将暂存区所有的文件都导入到版本库中，后续会说道这样做的优点。  </li>
<li>我们现在修改<code>main.cpp</code>中的代码。用git中的vim直接进行操作。将<code>main.cpp</code>改为如下：  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;  </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"First modify"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"hello world"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>然后运行<code>git status</code>看看结果：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure></li>
<li>发现有红色标记<code>main.cpp</code>被修改了。红色是表明没有被提交，我们使用<code>git diff</code>看看修改了什么：  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff</span><br></pre></td></tr></table></figure></li>
<li>然后我们通过刚才的方法先<code>add</code>后<code>commit</code>：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add main.cpp</span><br><span class="line">git commit -m &quot;add First modify&quot;</span><br></pre></td></tr></table></figure>
<h3 id="Git的版本控制功能—回退"><a href="#Git的版本控制功能—回退" class="headerlink" title="Git的版本控制功能—回退"></a>Git的版本控制功能—回退</h3></li>
</ol>
<ul>
<li>版本1：<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"hello world"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>版本2：<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"First modify"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"hello world"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
我们在实际工作中看不出来那个版本修改了什么，但在Git中，我们使用<code>git log</code>命令查看：  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">commit 52ad3a63045092cefd1e6eb8ef3e5ac2d84649f6 (HEAD -&gt; master)</span><br><span class="line">Author: Shi Guoqiang &lt;piller4f@163.com&gt;</span><br><span class="line">Date:   Fri Jun 12 21:28:10 2020 +0800</span><br><span class="line">    add First modify</span><br><span class="line">commit cfb32fbb5d91b5b767fc94095f87c6e5ce123dc4</span><br><span class="line">Author: Shi Guoqiang &lt;piller4f@163.com&gt;</span><br><span class="line">Date:   Fri Jun 12 21:18:42 2020 +0800</span><br><span class="line">    first initial</span><br></pre></td></tr></table></figure>
可以看到第一次我们<code>first inital</code>第二次是<code>add First modify</code><br>信息较多，因此我们可以使用<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --pretty&#x3D;oneline</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">52ad3a63045092cefd1e6eb8ef3e5ac2d84649f6 (HEAD -&gt; master) add First modify</span><br><span class="line">cfb32fbb5d91b5b767fc94095f87c6e5ce123dc4 first initial</span><br></pre></td></tr></table></figure>
可以看到前面那么一串的是commit的版本号。那当我们需要回退到上一个版本怎么做呢？？？<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^</span><br><span class="line">HEAD is now at cfb32fb first initial</span><br></pre></td></tr></table></figure>
可以看到其中<code>cfb32fb</code>不就是我们第一次版本的版本号的前几个字符。然后打开我们的<code>main.cpp</code>发现变为如下：<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"hello world"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
使用<code>git log</code>看看本地版本库状态。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">commit cfb32fbb5d91b5b767fc94095f87c6e5ce123dc4 (HEAD -&gt; master)</span><br><span class="line">Author: Shi Guoqiang &lt;piller4f@163.com&gt;</span><br><span class="line">Date:   Fri Jun 12 21:18:42 2020 +0800</span><br><span class="line">    first initial</span><br></pre></td></tr></table></figure>
那么现在我想后悔了，准备恢复回去怎么办？？？使用<code>git reflog</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cfb32fb (HEAD -&gt; master) HEAD@&#123;0&#125;: reset: moving to HEAD^</span><br><span class="line">52ad3a6 HEAD@&#123;1&#125;: commit: add First modify</span><br><span class="line">cfb32fb (HEAD -&gt; master) HEAD@&#123;2&#125;: commit (initial): first initial</span><br></pre></td></tr></table></figure>
可以看到我们<code>add First modify</code>版本号<code>52ad3a6</code>使用<code>git reset</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard 52ad3a6</span><br><span class="line">HEAD is now at 52ad3a6 add First modify</span><br></pre></td></tr></table></figure>
这里涉及到一个概念<code>HARD</code>它其实是一个指针，用于定位当前版本，因此只要有<code>commit_id</code>我就可以到任何版本。  <h3 id="工作区和暂存区的概念"><a href="#工作区和暂存区的概念" class="headerlink" title="工作区和暂存区的概念"></a>工作区和暂存区的概念</h3></li>
<li>工作区<br>我们的<code>FirstPrectice</code>就是我们的工作区</li>
<li>版本库<br>工作区中又一个目录<code>.git</code>这个是我们Git的版本库。其中最重要的<code>stage</code>(暂存区)，以及Git为我们自动创建的一个分支<code>master</code>和一个指针<code>HEAD</code>。<br>我们知道git在添加文件时有两步骤：<br>第一步使用<code>git add</code>将文件添加入暂存区。<br>第二步使用<code>git commit</code>将暂存区中的所有文件提交到当前分支。<br>因此将需要修改所有文件放入暂存区，然后一次性的将所有的修改提交到当前分支。  <h3 id="撤销修改"><a href="#撤销修改" class="headerlink" title="撤销修改"></a>撤销修改</h3>我们将<code>main.cpp</code>修改为如下<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"你个麻瓜！！！"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"First modify"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"hello world"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
可以看到不知道怎么回事心情不好，暴躁的写了一句“你个麻瓜”。当然如果你把这个交了，估计会被头头问话了。因此这是我想撤销我的修改。<br>使用<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout --main.cpp</span><br></pre></td></tr></table></figure>
此时你发现ok了，你在工作区中的修改被恢复。<br>那现在问题又来了，我将<code>main.cpp</code>给<code>add</code>了，现在在暂存区里面。<br>使用<code>git reset HEAD filename</code>将当前暂存区清除，此时在和之前一样删除就可以了。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD main.cpp</span><br><span class="line">git checkout -- main.cpp</span><br></pre></td></tr></table></figure>
<h3 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h3>当我们讲一个文件提交进版本库，为了保证工作区和版本库中的一致性，不可以直接在工作区删除文件同样需要使用<code>git</code>命令，并提交版本库。<br>先添加<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add file.md</span><br><span class="line">git commit -m &quot;add file.md&quot;</span><br></pre></td></tr></table></figure>
再删除<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git rm file.md</span><br><span class="line">git commit -m &quot;rm file.md&quot;</span><br></pre></td></tr></table></figure>
<h3 id="部署远程仓库"><a href="#部署远程仓库" class="headerlink" title="部署远程仓库"></a>部署远程仓库</h3>在Git安装的时候已经配置了SSH加密，并建立了gitbub仓库，这里不再赘述。<br>将github上了仓库和本地仓库做关联。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin https:&#x2F;&#x2F;github.com&#x2F;Piller4F&#x2F;FirstPractice.git</span><br></pre></td></tr></table></figure>
把本地内容推送到远程库上：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin master</span><br></pre></td></tr></table></figure>
这时候可能会出现错误  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">error：failed to push some refs to......</span><br></pre></td></tr></table></figure>
由于github在建立代码库时选择生成了<code>README.md</code>导致远程库不一致。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull -rebase origin master</span><br></pre></td></tr></table></figure>
这里就将远程库和本地库进行了统一<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin master</span><br></pre></td></tr></table></figure>
将代码推到远程库<h3 id="从远程库进行克隆"><a href="#从远程库进行克隆" class="headerlink" title="从远程库进行克隆"></a>从远程库进行克隆</h3>找一个自己心仪的文件夹<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;Piller4F&#x2F;FirstPractice.git</span><br></pre></td></tr></table></figure>
<h3 id="创建与合并"><a href="#创建与合并" class="headerlink" title="创建与合并"></a>创建与合并</h3>在Git中<code>master</code>为主分支，而<code>HEAD</code>指向<code>master</code>表明，<code>HEAD</code>指向的是目前正操作的对象。而当我们创建一个新的分支的时<br>候例如<code>dev</code>Git则新建了一个指针叫<code>dev</code>再把<code>HEAD</code>指向<code>dev</code>上，因此目前的操作对象就成了<code>dev</code>这个路线。到了合并的时<br>候，只需要将<code>master</code>指向的<code>dev</code>就完成了合并。合并完成后，我们还可以删除<code>dev</code>分支。  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b dev</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><figcaption><span>checkout```命令加上```-b```表示创建并切换，等同于：</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#96;&#96;&#96;</span><br><span class="line">git branch dev</span><br><span class="line">git checkout dev</span><br></pre></td></tr></table></figure>
然后查看当前分支情况。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch</span><br></pre></td></tr></table></figure>
我们可以看到，当前分支前面会标有一个<code>*</code>号，然后我们来修改<code>main.cpp</code>。<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"First modify"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"Dev branch modify"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"hello world"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
然后添加并提交<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add main.cpp</span><br><span class="line">git commit -m &quot;Dev branch modify&quot;</span><br></pre></td></tr></table></figure>
现在我们可以切换回<code>master</code>分支，将dev合并到<code>master</code>分支上:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">git merge dev</span><br></pre></td></tr></table></figure>
<h3 id="分支的删除"><a href="#分支的删除" class="headerlink" title="分支的删除"></a>分支的删除</h3>删除<code>dev</code>分支<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d dev</span><br></pre></td></tr></table></figure>
目前就只剩下<code>master</code>唯一的一个分支了，切换分支还有一种方法就是<code>git switch</code>命令<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch dev</span><br><span class="line">git switch dev</span><br></pre></td></tr></table></figure>
<h3 id="创建标签"><a href="#创建标签" class="headerlink" title="创建标签"></a>创建标签</h3>标签对于开发者来说非常实用<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git switch master</span><br><span class="line">git tag v1.0</span><br></pre></td></tr></table></figure>
如果我现在需要给之前版本加标签呢？<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git log --pretty&#x3D;oneline --abbrev-commit</span><br><span class="line">git tag v0.9 de7ada0</span><br></pre></td></tr></table></figure>
显示标签信息<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git show v1.0</span><br></pre></td></tr></table></figure>
还可以加入带有说明的标签<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag -a v0.1 -m  &quot;First&quot; b5691ef</span><br></pre></td></tr></table></figure>
<h3 id="标签的操作"><a href="#标签的操作" class="headerlink" title="标签的操作"></a>标签的操作</h3>如果需要删除标签<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag -d v0.1</span><br></pre></td></tr></table></figure>
如要推送某个标签的远程<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin v1.0</span><br></pre></td></tr></table></figure>
一次性推送全部本地标签<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin --tags</span><br></pre></td></tr></table></figure>
如果要远程标签，则应该先本地删除<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag -d v0.9</span><br></pre></td></tr></table></figure>
然后从远程删除<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin :refs&#x2F;tags&#x2F;v0.9</span><br></pre></td></tr></table></figure></li>
</ul>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Piller4F</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://yoursite.com/2020/06/11/Git%E7%9A%84%E4%BD%BF%E7%94%A8/">http://yoursite.com/2020/06/11/Git%E7%9A%84%E4%BD%BF%E7%94%A8/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://piller4f.github.io/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://yoursite.com">Piller4F</a>！</span></div></div><div class="post-meta__tag-list"></div><div class="addthis_inline_share_toolbox pull-right"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5dd8f37b7cd00be8" async></script><nav id="pagination"><div class="prev-post pull-left"><a href="/2020/06/11/Markdown%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"><i class="fa fa-chevron-left">  </i><span>Markdown快速入门</span></a></div><div class="next-post pull-right"><a href="/2020/06/11/CSS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span>CSS学习笔记</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '7f0d32070f44e89fd72c',
  clientSecret: '9b3bf322ead22e17245eec922e98a6d0e7c7602f',
  repo: 'piller4f.github.io',
  owner: 'Piller4F',
  admin: 'Piller4F',
  id: md5(decodeURI(location.pathname)),
  language: 'zh-CN'
})
gitalk.render('gitalk-container')</script></div></div><footer class="footer-bg" style="background-image: url(https://i.loli.net/2020/06/11/gMshtI2zZdwBjev.png)"><div class="layout" id="footer"><div class="copyright">&copy;2020 By Piller4F</div><div class="framework-info"><span>驱动 - </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="noopener"><span>Melody</span></a></div><div class="footer_custom_text">欢迎访问</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"superSample":2,"width":210,"height":420,"position":"right","hOffset":-20,"vOffset":-20},"log":false,"tagMode":false});</script></body></html>